!function(){"use strict";class t{constructor(i,s){this.x=0,this.y=0,this.add=i=>(this.x=this.x+i.x,this.y=this.y+i.y,new t(this.x,this.y)),this.sub=i=>(this.x=this.x-i.x,this.y=this.y-i.y,new t(this.x,this.y)),this.multi=i=>(this.x=this.x*i,this.y=this.y*i,new t(this.x,this.y)),this.div=i=>(this.x=this.x/i,this.y=this.y/i,new t(this.x,this.y)),this.x=i,this.y=s}get coord_x(){return this.x}get coord_y(){return this.y}}t.add=(i,s)=>new t(i.x+s.x,i.y+s.y),t.sub=(i,s)=>new t(i.x-s.x,i.y-s.y),t.multi=(i,s)=>new t(i.x*s,i.y*s),t.div=(i,s)=>new t(i.x/s,i.y/s);class i{static random(t,i){return Math.random()*(i-t)+t}static floor(t){return Math.floor(t)}static PI(){return 3.141592653589793}static PI2(){return 2*this.PI()}static degTorad(t){return this.PI()/180*t}}class s{constructor(i,s,h){this.position=new t(0,0),this.radius=0,this.draw=(t,i,s=1,h=1)=>{this.gl.globalAlpha=h,this.gl.fillStyle=t,this.gl.strokeStyle=i,this.gl.lineWidth=s,this.gl.beginPath(),this.gl.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),this.gl.closePath(),this.gl.fill(),this.gl.stroke()},this.draw_fill=(t,i=1)=>{this.gl.globalAlpha=i,this.gl.fillStyle=t,this.gl.beginPath(),this.gl.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),this.gl.closePath(),this.gl.fill()},this.draw_stroke=(t,i=1,s=1)=>{this.gl.globalAlpha=s,this.gl.strokeStyle=t,this.gl.lineWidth=i,this.gl.beginPath(),this.gl.arc(this.position.x,this.position.y,this.radius,0,2*Math.PI),this.gl.closePath(),this.gl.stroke()},this.gl=i,this.position=s,this.radius=h}}class h{constructor(t,i){this.data=[],this.drawPolygon1=(t,i=1)=>{this.gl.strokeStyle=t,this.gl.lineWidth=i,this.gl.beginPath(),this.gl.moveTo(this.data[0].x,this.data[0].y);for(let t=1;t<this.data.length;t++)this.gl.lineTo(this.data[t].x,this.data[t].y);this.gl.stroke()},this.drawPolygon2=(t,i=1)=>{this.gl.fillStyle=t,this.gl.globalAlpha=i,this.gl.beginPath(),this.gl.moveTo(this.data[0].x,this.data[0].y);for(let t=1;t<this.data.length;t++)this.gl.lineTo(this.data[t].x,this.data[t].y);this.gl.closePath(),this.gl.fill()},this.draw=(t,i,s=1,h=1)=>{this.gl.fillStyle=t,this.gl.strokeStyle=i,this.gl.lineWidth=s,this.gl.globalAlpha=h,this.gl.beginPath(),this.gl.moveTo(this.data[0].x,this.data[0].y);for(let t=1;t<this.data.length;t++)this.gl.lineTo(this.data[t].x,this.data[t].y);this.gl.closePath(),this.gl.fill(),this.gl.stroke()},this.gl=t,this.data=i}}class l{constructor(i){this.setButterFly=i=>{let s=[];const h=2.718281828459045,l=i;let a=0,o=0;for(let i=0;i<32.61938194150854;i+=.01){a=Math.sin(i)*(Math.pow(h,Math.cos(i))-2*Math.cos(4*i)-Math.pow(Math.sin(i/12),5))*l,o=Math.cos(i)*(Math.pow(h,Math.cos(i))-2*Math.cos(4*i)-Math.pow(Math.sin(i/12),5))*l;let e=new t(a,o);s.push(e)}return s},this.drawButterFly=(t,i="#DEFF7E")=>{let s=this.setButterFly(t);new h(this.gl,s).drawPolygon2(i)},this.gl=i}}class a{constructor(i,s,h,l){this.position=new t(0,0),this.radius=new t(0,0),this.velocity=new t(0,0),this.gl=i,this.position=s,this.radius=h,this.velocity=l}paint_step(t){this.position.add(this.velocity),(this.position.x<0||this.position.x>t.x)&&(this.velocity.x*=-1),(this.position.y<0||this.position.y>t.y)&&(this.velocity.y*=-1)}paints_draw(t){this.gl.fillStyle=t,this.gl.beginPath(),this.gl.ellipse(this.position.x,this.position.y,this.radius.x,this.radius.y,0,0,2*Math.PI),this.gl.fill(),this.gl.closePath()}paints_all_draw(t,i,s=1){this.gl.fillStyle=t,this.gl.strokeStyle=i,this.gl.lineWidth=s,this.gl.beginPath(),this.gl.ellipse(this.position.x,this.position.y,this.radius.x,this.radius.y,0,0,2*Math.PI),this.gl.closePath(),this.gl.fill(),this.gl.stroke()}paints_stroke_draw(t,i=1){this.gl.strokeStyle=t,this.gl.lineWidth=i,this.gl.beginPath(),this.gl.ellipse(this.position.x,this.position.y,this.radius.x,this.radius.y,0,0,2*Math.PI),this.gl.closePath(),this.gl.stroke()}}const o=document.querySelector("canvas");if(!(o instanceof HTMLCanvasElement))throw new Error("not found canvas element");const e=o.getContext("2d");if(!e)throw new Error("canvasの初期化に失敗しました。");const n=["#ff9626","#fcd01e","#1efcf5"],r=["rgba(2, 250, 141, 0.1)","rgba(220, 250, 200, 0.1)","rgba(12, 100, 25, 0.1)","rgba(10, 150, 10 ,0.1)"];let g=0,d=0,y=[],c=[],w=[],x=[],p=[],u=[],f=[];const P=()=>{const h=o.width,n=o.height,r=new t(h,n);var g;(()=>{const t=Date.now()/1e3;[...Array(20).keys()].forEach((i=>{new s(e,y[i],3.5*c[i]).draw_fill("rgba(240, 255, 240, 0.5)"),e.save(),e.translate(y[i].x,y[i].y),e.scale(Math.cos(t),Math.sin(t)),new l(e).drawButterFly(c[i],w[i]),e.restore()}))})(),g=r,[...Array(f.length).keys()].forEach((s=>{u[s]=new t(i.random(10,20),i.random(10,20));let h=new a(e,x[s],u[s],p[s]);h.paint_step(g),h.paints_draw(f[s])})),requestAnimationFrame(P)};o.width=g=window.innerWidth,o.height=d=window.innerHeight,[...Array(20).keys()].forEach((s=>{y[s]=new t(i.random(0,g),i.random(0,d)),c[s]=i.random(5,25);let h=i.floor(i.random(0,n.length));w[s]=n[h]})),[...Array(10).keys()].forEach((s=>{x[s]=new t(i.random(0,g),i.random(0,d)),p[s]=new t(i.random(1,2),i.random(1,2));let h=i.floor(i.random(0,r.length));f[s]=r[h]})),window.onload=P}();